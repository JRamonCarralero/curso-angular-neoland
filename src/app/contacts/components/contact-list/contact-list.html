<!-- Si no estamos editando, muestra el botón nuevo contacto -->
<div class="mb-3" *ngIf="!editing()">
  <button pButton type="button" label="Nuevo contacto" icon="pi pi-user-plus" class="p-button-success" (click)="onNewContact()"></button>
</div>

<!-- Si estamos editando, muestra el formulario de edición -->
<app-contact-add *ngIf="editing()" [editContact]="editing()" (create)="onSaved()" (cancel)="onSaved()" (update)="onSaved()"></app-contact-add>

<!-- Muestra la tabla primeNG de contactos -->
<p-table
  [value]="contacts()"
  [paginator]="true"
  [rows]="5"
  [tableStyle]="{ 'min-width': '50rem' }"
  [rowsPerPageOptions]="[5, 10, 20]"
  class="p-datatable-sm"
>
  <ng-template pTemplate="header">
    <tr>
      <th style="width:35%">Nombre</th>
      <th style="width:25%">Email</th>
      <th style="width:25%">Teléfono</th>
      <th style="width:15%"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-contact>
    <tr>
      <td>{{ contact.name }}</td>
      <td>{{ contact.email }}</td>
      <td>{{ contact.phone }}</td>
      <td>
        <button pButton type="button" icon="pi pi-pencil" class="p-button-text p-button-rounded p-button-secondary p-mr-2" (click)="onEdit(contact)"></button>
        <button pButton type="button" icon="pi pi-trash" class="p-button-text p-button-rounded p-button-danger" (click)="onDelete(contact.id)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>
